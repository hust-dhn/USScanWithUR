# ur10e机械臂运动控制代码

## 介绍

此项目用于机械臂在已知路径轨迹的前提下，进行实时控制运动

## 目录结构

项目目录结构如下：


- **ur10e/**：
    **cfg/**：该配置文件能够存储一些刚性变换矩阵，用于后续计算过程
        **T_end2cam.yaml/**：工具末端相对于深度相机的变换矩阵
        **T_end2rgb.yaml/**：工具末端相对于rgb相机的变换矩阵
        **T_end2tcp.yaml/**：工具末端中心相对于机械臂末端法兰中心tcp的变换矩阵
        **tcp.yaml/**：定义工具（TCP）的几何参数以及定义传感器的特性
    **build_tcp_matrix.py/**：坐标变换框架构建，机器人末端(End) → TCP(Tool Center Point) → RGB相机(Sensor2) ↔ 深度相机(Sensor0)，推导出机器人末端到sensor2的变换矩阵T_end2s2，以及机器人末端到sensor0的变换矩阵T_end2sensor0
    **show_traj.py**：读取“ur10e/cfg/poses_target.txt“中的数据，并将其可视化，用于验证轨迹i规划是否正确
    **ur_drag.py/ur_drag3.py/ur_drag_combined.py**：这三个代码都是用于机器人控制使机器人末端运动到指定位置，我们只执行最终的ur_drag.py作为控制代码
    **ur_ros.py**：这是一个ROS节点程序，用于控制UR10e机器人，将UR机器人的原生接口封装成标准的ROS接口，便于在ROS生态系统中使用UR10e机器人。
    **ur_rtde.py**：可以读取机器人当前关节角/当前TCP位置以及当前TCP速度

---
## 机器人控制流程

1. **执行代码**：
    * 执行ur_drag.py代码

2. **键盘监听**：
    * 点“d"实现开启自由拖动模式，拖动到第一个注射点附近
    * 点"r"重新配准（因为上一步骤中移动了机器人末端工具位姿）
    * 点“u"开启运动到第一个点
    * 点"s"开启扫描模式，机器人末端开始按照设定好的轨迹进行运动
    * 点"m"开启窗口可以可视化轨迹
    * 点"q"结束线程



